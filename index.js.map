{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/local-storage-api.js","../src/js/markup-tasks.js","../src/js/tasks.js","../src/js/render-tasks.js","../src/js/theme-switcher.js","../src/main.js"],"sourcesContent":["export const refs = {\n    form: document.querySelector('.header-form'),\n    list: document.querySelector('.tasks-list'),\n    body: document.body,\n    switch: document.querySelector('#themeToggle')\n}\n","export function setDataLs(key, value) {\n    const normalizeValue = JSON.stringify(value);\n    localStorage.setItem(key, normalizeValue);\n}\n\nexport function getDataLs(key) {\n    return JSON.parse(localStorage.getItem(key))\n}\n\nexport const LS_KEY_TASKS = \"tasksList\";\nexport const LS_KEY_THEME = \"pageTheme\";","export function createMarkup(title, description) {\n    return `<li class=\"task-list-item\">\n              <button class=\"task-list-item-btn\">Delete</button>\n              <h3>${title}</h3>\n              <p>${description}</p>\n            </li>`\n}\n","import { refs } from \"./refs\";\nimport { setDataLs, getDataLs, LS_KEY_TASKS } from \"./local-storage-api\";\nimport { createMarkup } from \"./markup-tasks\";\n\nexport const handleSubmit = e => {\n    e.preventDefault();\n    const data = {\n        title: e.target.elements.taskName.value,\n        description: e.target.elements.taskDescription.value\n    }\n\n    if (data.title === '' || data.description === '') {\n        alert('Enter title and description please!');\n        return\n    }\n\n    refs.list.insertAdjacentHTML('beforeend', createMarkup(data.title, data.description));\n\n    const tasks = getDataLs(LS_KEY_TASKS) || [];\n\n    if (Array.isArray(tasks)) {\n        tasks.push(data)\n    }\n\n    setDataLs(LS_KEY_TASKS, tasks);\n\n    e.target.elements.taskName.value = \"\";\n    e.target.elements.taskDescription.value = \"\";\n}\n\nexport function handleDeleteClick(e) {\n    if (e.target.tagName !== 'BUTTON') return;\n\n    const currentItem = e.target.closest('.task-list-item');\n    currentItem.remove();\n\n    const currentItemTitle = currentItem.children[1].innerText;\n    const tasks = getDataLs(LS_KEY_TASKS);\n    const filteredTasks = tasks.filter(({ title }) => title !== currentItemTitle);\n    setDataLs(LS_KEY_TASKS, filteredTasks);\n\n\n}","import { getDataLs, LS_KEY_TASKS } from \"./local-storage-api\";\n\nexport function renderMarkup() {\n    const renderList = getDataLs(LS_KEY_TASKS) || [];\n\n    return renderList.map(({ title, description }) =>\n        `<li class=\"task-list-item\">\n              <button class=\"task-list-item-btn\">Delete</button>\n              <h3>${title}</h3>\n              <p>${description}</p>\n            </li>`\n    ).join(\"\")\n\n}\n","import { refs } from \"./refs\";\nimport { setDataLs, getDataLs, LS_KEY_THEME } from \"./local-storage-api\";\n\nexport function switchTheme() {\n    if (refs.body.classList.contains('theme-dark')) {\n        refs.body.classList.replace('theme-dark', 'theme-light');\n        setDataLs(LS_KEY_THEME, 'theme-light')\n    } else {\n        refs.body.classList.replace('theme-light', 'theme-dark');\n        setDataLs(LS_KEY_THEME, 'theme-dark')\n    }\n\n}\n\nexport function renderTheme() {\n    const dataLs = getDataLs(LS_KEY_THEME);\n    if (dataLs === \"theme-light\") {\n        refs.body.classList.replace('theme-dark', dataLs);\n    }\n\n}","import { refs } from \"./js/refs\";\nimport { handleSubmit, handleDeleteClick } from \"./js/tasks\";\nimport { renderMarkup } from \"./js/render-tasks\";\nimport { switchTheme, renderTheme } from \"./js/theme-switcher\";\n\n\nrefs.body.addEventListener(\"DOMContentLoaded\", renderTheme());\nrefs.list.insertAdjacentHTML(\"afterbegin\", renderMarkup());\nrefs.form.addEventListener('submit', handleSubmit);\nrefs.list.addEventListener('click', handleDeleteClick);\nrefs.switch.addEventListener('click', switchTheme)\n\n\n"],"names":["refs","setDataLs","key","value","normalizeValue","getDataLs","LS_KEY_TASKS","LS_KEY_THEME","createMarkup","title","description","handleSubmit","data","tasks","handleDeleteClick","currentItem","currentItemTitle","filteredTasks","renderMarkup","switchTheme","renderTheme","dataLs"],"mappings":"ssBAAO,MAAMA,EAAO,CAChB,KAAM,SAAS,cAAc,cAAc,EAC3C,KAAM,SAAS,cAAc,aAAa,EAC1C,KAAM,SAAS,KACf,OAAQ,SAAS,cAAc,cAAc,CACjD,ECLO,SAASC,EAAUC,EAAKC,EAAO,CAClC,MAAMC,EAAiB,KAAK,UAAUD,CAAK,EAC3C,aAAa,QAAQD,EAAKE,CAAc,CAC5C,CAEO,SAASC,EAAUH,EAAK,CAC3B,OAAO,KAAK,MAAM,aAAa,QAAQA,CAAG,CAAC,CAC/C,CAEO,MAAMI,EAAe,YACfC,EAAe,YCVrB,SAASC,EAAaC,EAAOC,EAAa,CAC7C,MAAO;AAAA;AAAA,oBAESD,CAAK;AAAA,mBACNC,CAAW;AAAA,kBAE9B,CCFO,MAAMC,EAAe,GAAK,CAC7B,EAAE,eAAc,EAChB,MAAMC,EAAO,CACT,MAAO,EAAE,OAAO,SAAS,SAAS,MAClC,YAAa,EAAE,OAAO,SAAS,gBAAgB,KAClD,EAED,GAAIA,EAAK,QAAU,IAAMA,EAAK,cAAgB,GAAI,CAC9C,MAAM,qCAAqC,EAC3C,MACH,CAEDZ,EAAK,KAAK,mBAAmB,YAAaQ,EAAaI,EAAK,MAAOA,EAAK,WAAW,CAAC,EAEpF,MAAMC,EAAQR,EAAUC,CAAY,GAAK,CAAA,EAErC,MAAM,QAAQO,CAAK,GACnBA,EAAM,KAAKD,CAAI,EAGnBX,EAAUK,EAAcO,CAAK,EAE7B,EAAE,OAAO,SAAS,SAAS,MAAQ,GACnC,EAAE,OAAO,SAAS,gBAAgB,MAAQ,EAC9C,EAEO,SAASC,EAAkB,EAAG,CACjC,GAAI,EAAE,OAAO,UAAY,SAAU,OAEnC,MAAMC,EAAc,EAAE,OAAO,QAAQ,iBAAiB,EACtDA,EAAY,OAAM,EAElB,MAAMC,EAAmBD,EAAY,SAAS,CAAC,EAAE,UAE3CE,EADQZ,EAAUC,CAAY,EACR,OAAO,CAAC,CAAE,MAAAG,KAAYA,IAAUO,CAAgB,EAC5Ef,EAAUK,EAAcW,CAAa,CAGzC,CCxCO,SAASC,GAAe,CAG3B,OAFmBb,EAAUC,CAAY,GAAK,CAAA,GAE5B,IAAI,CAAC,CAAE,MAAAG,EAAO,YAAAC,CAAa,IACzC;AAAA;AAAA,oBAEYD,CAAK;AAAA,mBACNC,CAAW;AAAA,kBAE9B,EAAM,KAAK,EAAE,CAEb,CCVO,SAASS,GAAc,CACtBnB,EAAK,KAAK,UAAU,SAAS,YAAY,GACzCA,EAAK,KAAK,UAAU,QAAQ,aAAc,aAAa,EACvDC,EAAUM,EAAc,aAAa,IAErCP,EAAK,KAAK,UAAU,QAAQ,cAAe,YAAY,EACvDC,EAAUM,EAAc,YAAY,EAG5C,CAEO,SAASa,GAAc,CAC1B,MAAMC,EAAShB,EAAUE,CAAY,EACjCc,IAAW,eACXrB,EAAK,KAAK,UAAU,QAAQ,aAAcqB,CAAM,CAGxD,CCdArB,EAAK,KAAK,iBAAiB,mBAAoBoB,EAAa,CAAA,EAC5DpB,EAAK,KAAK,mBAAmB,aAAckB,EAAc,CAAA,EACzDlB,EAAK,KAAK,iBAAiB,SAAUW,CAAY,EACjDX,EAAK,KAAK,iBAAiB,QAASc,CAAiB,EACrDd,EAAK,OAAO,iBAAiB,QAASmB,CAAW"}